Title: วิธีเพิ่มระยะเวลาการใช้งานแบตเตอรี่แล็บท็อบ 
Date: 2009-08-23 09:46:42
Tags: linux 
Slug: วิธีเพิ่มระยะเวลาการใช้งานแบตเตอรี่แล็บท็อบ 


ใครที่ใช้ laptop อยู่แล้วมีทั้ง Windows และLinux บนเครื่องเดียวกันจะสังเกตุได้ว่าแบตเตอรี่ที่ใช้งานอยู่จะใช้ได้นานเมื่อใช้งานบน Windows และจะสั้นกว่าถ้าใช้ใน Linux เช่นบน Windows ชาร์จเต็มอาจใช้ได้ 2 ชั่วโมงกว่าแต่บน Linux อาจได้แค่ 1 ชั่วโมงครึ่ง ปัจจัยหลักที่ทำให้เป็นแบบนี้คือซอฟท์แวร์ที่รันอยู่นี่เอง ยิ่งโปรแกรมสร้างโหลดให้ CPU มากหรือทำ I/O เช่น เขียนอ่านฮาร์ดดิสก์มากๆ ก็จะทำให้แบตเตอรี่หมดเร็ว

พอดีไปอ่านเจอโปรแกรมหนึ่งชื่อ powertop ซึ่งเป็นโปรแกรมรันบน Linux (ไม่รู้มีบน Windows รึป่าว) ที่สามารถวิเคราะห์ว่าโปรแกรมใดกำลังกินไฟมาก คู่มือบอกว่าใช้สำหรับแล็บท็อบที่เป็น "Intel-based" (ไม่ค่อยแน่ใจว่าคืออะไร CPU มั้ง) จุดเด่นคือนอกจากวิเคราะห์โดยแสดงเป็นสัดส่วนเปอร์เซ็นต์ว่าโปรแกรมไหนทำให้เครื่อง active มากๆแล้ว เจ้า powertop นี้ยังแนะนำว่าควรทำยังไงด้วย โดยแสดงออกมาเป็นภาษาอังกฤษเลย เช่น ให้ตั้งค่านี้ที่ไฟล์โน้น หรือบางทียังทำให้ง่ายกว่านั้นโดยให้กดแค่ปุ่มเดียวแล้วเดี๋ยวมันทำให้ เช่น Enable SATA ALPM link power management via: echo min_power &gt; /sys/class/scsi_host/host0/link_power_management_policy or press the S key. จากตัวอย่างจะเห็นว่าแค่กด S มันก็ทำให้เองเลย

การใช้งานง่ายมาก เริ่มจากติดตั้งโปรแกรม สำหรับ Ubuntu ให้ใช้คำสั่ง

	sudo apt-get install powertop

จากนั้นเวลาจะใช้งานกใช้คำสั่ง

	sudo powertop

ใส่ sudo ด้วย ถ้าไม่ใส่ตัวโปรแกรมจะเข้าถึงอุปกรณ์บางตัวไม่ได้ และอาจจะวิเคราะห์บางส่วนไม่ได้ 

คำแนะนำว่าควรทำอะไรจะอยู่ด้านล่าง จะออกโปรแกรมให้กด Q ตอนรันโปรแกรมนี้ขอให้รันตอนที่เครื่องทำงานด้วยแบตเตอรี่ครับ ลองใช้กันดูครับ :)

ข้อมูลจาก:
<ul>
	<li><a href="http://www.phoronix.com/scan.php?page=article&amp;item=ubuntu_battery_life&amp;num=1">http://www.phoronix.com/scan.php?page=article&amp;item=ubuntu_battery_life&amp;num=1</a></li>
	<li><a href="http://www.lesswatts.org/projects/powertop/">http://www.lesswatts.org/projects/powertop/</a></li>
	<li><a href="http://ubuntuforums.org/showthread.php?t=83876">http://ubuntuforums.org/showthread.php?t=83876</a></li>
</ul>

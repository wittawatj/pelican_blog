Title: mouse ไม่ทำงานใน Ubuntu 
Date: 2011-02-04 09:35:17
Tags: ubuntu 
Slug: mouse ไม่ทำงานใน Ubuntu 


ใช้ Ubuntu อยู่ดีๆ ก็ไม่สามารถคลิกซ้ายได้ แต่พอลองสังเกตดีๆ จะเห็นมีอาการดังนี้
<ul>
	<li>keyboard ทำงานอยู่ สามารถพิมพ์ได้ เปลี่ยน workspace ได้</li>
	<li>ใช้ scroll บน mouse ไม่ได้เลย</li>
	<li>คลิกขวาไม่ได้เลย <strong>ยกเว้น</strong> ที่สุดท้ายที่คลิกก่อนที่จะทำให้มันใช้ไม่ได้</li>
</ul>
จากอาการข้างบนทำให้รู้ว่า มันไม่ใช่ว่าใช้ไม่ได้ แต่เหมือนกับว่า focus ของ mouse ถูกขโมยไปโดยหน้าต่างอันหนึ่ง แล้วพอคลิกที่อื่นมันก็ไม่ยอมเลิก focus แต่ถ้าคลิกขวาที่หน้าต่างที่ขโมย focus นั่นไปจะทำให้ mouse กลับมาใช้ได้ชั่วคราวจนกว่าจะไปคลิกซ้ายที่อื่น ซึ่งก็จะโดนขโมยโดยหน้าต่างอื่นอีกที ...

หาไปหามามีคนมากมายเจอปัญหานี้เช่นเดียวกัน <a href="https://bugs.launchpad.net/ubuntu/+source/xorg-server/+bug/41301">https://bugs.launchpad.net/ubuntu/+source/xorg-server/+bug/41301</a> มีหลายคนบอกวิธีแก้ชั่วคราวแบบต่างๆนาๆตั้งแต่ ลองเพิ่ม argument ที่ GRUB ตอนบูท หรือลอง kill X-window จนไปถึง restart ใหม่

วิธีแก้ที่ตัวเองลองแล้วได้ผลคือ ให้เอา module ใน kernel ที่ควบคุม mouse อยู่ออก แล้วก็ add กลับเข้าไปใหม่ แบบนี้

[bash] sudo modprobe -r hid_apple &amp;&amp; sudo modprobe hid_apple [/bash]

ของผมใช้ Apple Magic Mouse ตัว module จึงชื่อว่า hid_apple ถ้าเป็น mouse ตัวอื่นต้องเปลี่ยนเป็นชื่อ module ที่ถูกต้องด้วย

ไม่ confirm ว่าจะใช้ได้กับ mouse ตัวอื่นหรือเปล่า แต่ทำวิธีนี้กับ Apple Magic Mouse แล้วใช้ได้ เลยเดาว่าก็น่าจะใช้ได้กับ mouse อื่นๆด้วย แต่ไม่มีให้ลองเลยไม่รู้

ถ้าไม่มี terminal เปิดอยู่แล้ว ให้กด alt+F2 เพื่อเปิดหน้าต่าง run โปรแกรม จากนั้นพิมพ์ gnome-terminal พอ terminal เปิดขึ้นมาก็ให้ใช้คำสั่งข้างบนแบบที่บอก

Title: ความน่าจะเป็นที่มีคนเกิดวันเดียวกัน 
Date: 2012-06-06 03:20:02
Tags: math, probability 
Slug: ความน่าจะเป็นที่มีคนเกิดวันเดียวกัน 


อาจารย์ท่านหนึ่งเดินเข้ามาในห้องที่มีนักเรียน 30 คนแล้วท้าพนันโดยพูดกับนักเรียนว่า "ในห้องนี้น่าจะมีคนเกิดวันเดียวกัน" ถามว่าควรรับคำท้านี่หรือเปล่า (จาก<a href="http://web.stonehill.edu/compsci/History_Math/math-read.htm">หน้านี้</a>)

เรื่องนี้เป็นปัญหาเก่าที่เรียกว่า <a href="http://en.wikipedia.org/wiki/Birthday_problem">birthday paradox</a>  ปัญหาบอกว่ามีคน n คนในห้อง ให้หาความน่าจะเป็นที่อย่างน้อยคน 2 คนเกิดวันเดียวกัน จริงๆถ้าไม่คิดอะไรลึก ฟังเผินๆเหมือนจะเกิดยากมาก แต่เอาเข้าจริงๆ <a href="http://en.wikipedia.org/wiki/Pigeonhole_principle">pigeonhole principle</a> บอกว่าถ้ามี 366 คนในห้อง รับรองว่ามีอย่างน้อย 1 คู่ที่เกิดวันเดียวกันแน่นอน (ให้ 1 ปีมี 365 วัน) คือ 1 ปีมี 365 วัน ถ้ามี 365 คนที่เกิดคนละวันใน 1 ปีแล้ว คนที่ 366 จะไม่มีวันให้เลือกเกิดเหลืออีก ฉะนั้นมันต้องซ้ำแน่นอน พูดอีกอย่างคือที่ n=366 ความน่าจะเป็นคือ 100% ที่น่าสนใจคือที่ n น้อยกว่า 366

วิธีหาความน่าจะเป็นที่คิดว่าเข้าใจง่ายที่สุดคือแบบนี้
<ul>
	<li>สมมติฐานคือวันเกิดคนมีการกระจายตัวแบบ uniform (พูดอีกอย่างคือทุกวันมีความเป็นไปได้เท่ากันที่จะเป็นวันเกิดของคนหนึ่งคน) และวันเกิดของคนหนึ่งคนไม่เกี่ยวกับอีกคน</li>
	<li>ให้ p เป็นความน่าจะเป็นที่เราอยากหา คือความน่าจะเป็นที่มีอย่างน้อย 1 คู่ที่เกิดวันเดียวกัน</li>
	<li>ให้ q เป็นความน่าจะเป็นที่ไม่มีใครเกิดวันเดียวกันเลย</li>
</ul>
คิดดีๆจะรู้ว่า $$p = 1 - q$$ ฉะนั้นที่เหลือก็คือหา q ซึ่งได้แบบนี้

$$ q = \frac{365\times364\times\cdots\times(365-n+1)}{365^n} $$

การที่ไม่มีใครเกิดซ้ำกันเลยแปลว่าคนแรกมีวันเลือกเกิด 365 วัน คนที่สองเลยมีตัวเลือก 364 วัน จนคนที่ n มีตัวเลือก 365-n+1 วัน ที่หาร \(365^n\) ก็เพื่อให้เป็นความน่าจะเป็น เพิ่มเติมคือถ้า n=366 แล้ว q=0 แบบที่อธิบายไปแล้ว

ถ้าเอา p (แกน y)  มา plot กับ n (แกน x) จะได้แบบนี้
<p style="text-align: center;"><a href="http://wittawat.com/blog/wp-content/uploads/2012/06/bdparadox.png"><img class="aligncenter  wp-image-1008" title="bdparadox" src="http://wittawat.com/blog/wp-content/uploads/2012/06/bdparadox.png" alt="" width="618" height="360" /></a></p>
<p style="text-align: left;">กลับมาที่คำท้าพนันของอาจารย์ จะเห็นว่าที่ n=30 คน มีโอกาสประมาณ 70% ที่จะมีคนเกิดวันเดียวกัน ฉะนั้นก็ไม่ควรรับพนันนะ ที่น่าสนใจคือจริงๆ แล้วแค่ 23 คนโอกาสก็ทะลุ 50% แล้ว แปลว่าโอกาสที่คนจะเกิดวันเดียวกันไม่ได้ยากอย่างที่คิด</p>
<p style="text-align: left;">ที่กล่าวมานี่มีสมมติฐานว่ทุกวันมีความน่าจะเป็นที่จะเป็นวันเกิดได้เหมือนกันหมด (uniform distribution) แล้วถ้าจริงๆมันไม่ uniform ล่ะ ต้องลองดู<a href="http://chmullig.com/2012/06/births-by-day-of-year/">หน้านี้</a>ซึ่งมีการใช้ข้อมูลจริงเพื่อหาความน่าจะเป็นของแต่ละวันด้วย</p>

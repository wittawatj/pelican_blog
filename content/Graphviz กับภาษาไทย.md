Title: Graphviz กับภาษาไทย 
Date: 2008-07-07 15:50:00
Tags:  
Slug: Graphviz กับภาษาไทย 


เนื่องจากโปรเจคจบ (ระบบคำถามคำตอบสำหรับวิกิพีเดียภาษาไทย) ของตัวเองใช้วิกิเป็นฐาน จึงต้องยุ่งกับวิกิเยอะ ช่วงนี้คิดจะใช้ Graphviz มา visualize พวกลิงค์และหมวดหมู่ในวิกิ<br /><br />Graphviz เป็นโปรแกรมสำหรับวาด graph โดยจะอ่าน dot ไฟล์ที่เขียนลักษณะของ graph ไว้ แล้วสร้าง graph ออกมาให้โดยเราไม่ต้องคุมตำแหน่งของ node หรือ edge เดี๋ยวมันจัดการเอง<br /><br />ตอนนี้เพิ่งหัดใช้อยู่ หลังจากงงมานานว่าจะให้มันเขียน graph ที่มี label ภาษาไทยยังไง นี่คือ คำตอบ:<br /><br />digraph g {<br /><br /><span style="color: rgb(255, 0, 0);">node [fontname=Garuda];</span><br /><span style="color: rgb(255, 0, 0);">edge [fontname=Garuda];</span><br /><br />a [label=ตรงนี้คือคำไทย];<br />a->b;<br /><br />}<br /><br />ต้องบอกให้มันใช้ font ไทยด้วย ไม่งั้นมันจะไม่แสดงคำอะไรเลย กลายเป็น node โล่งๆ หรือบางทีมันก็จะแสดงเป็นเหลี่ยมๆ<br /><br />มีรูปหมวดหมู่<span style="font-weight: bold;">บางส่วน</span>จากวิกิไทยมาให้ดูด้วย <span style="text-decoration: underline;"><br /></span><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://bp2.blogger.com/_jG-Hw7Z6_EA/SHNCmU1oo7I/AAAAAAAAACQ/rQvAmJW15ME/s1600-h/cat.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://bp2.blogger.com/_jG-Hw7Z6_EA/SHNCmU1oo7I/AAAAAAAAACQ/rQvAmJW15ME/s400/cat.png" alt="" id="BLOGGER_PHOTO_ID_5220589619248669618" border="0" /></a><br />สร้างโดยใช้ graphviz หมวดหมู่ที่เอามาโชว์นี้เริ่มไต่จากหมวดชื่อ "ภาษาคอมพิวเตอร์" ในรูป หมวด1->หมวด2 แปลว่า หมวด1 เป็นหมวดย่อยของ หมวด2 จะเห็นว่าหมวดหมู่ในวิกิค่อนข้างจะมั่วดี ไม่เป็น tree เพราะหมวดบางหมวดอาจมีหลาย parent ได้ รูปนี้ไม่มีหน้าที่เป็นบทความรวมอยู่นะ มีแต่หมวดหมู่

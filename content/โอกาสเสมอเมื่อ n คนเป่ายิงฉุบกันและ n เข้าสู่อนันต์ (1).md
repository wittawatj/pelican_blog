Title: โอกาสเสมอเมื่อ n คนเป่ายิงฉุบกันและ n เข้าสู่อนันต์ (1) 
Date: 2013-01-16 11:30:51
Tags: math, probability, quiz 
Slug: โอกาสเสมอเมื่อ n คนเป่ายิงฉุบกันและ n เข้าสู่อนันต์ (1) 


เร็วๆนี้ผ่านไปเห็น Tweet ของ <a href="https://twitter.com/mathematics_bot">@mathematics_bot </a>ซึ่งกล่าวไว้ว่า
<blockquote>n人でじゃんけんをしてあいこになる確率をPnとする。このとき、lim[n,∞] Pn＝1を示せ。（mathmas0123様）</blockquote>
แปลเป็นไทยได้ว่า
<blockquote>กำหนดให้ \(P_n\) คือความน่าจะเป็นที่ n คนเป่ายิงฉุบกันแล้วเสมอ จงแสดงว่า \(\lim_{n \rightarrow \infty} P_n = 1\) (โดยคุณ mathmas0123)</blockquote>
โจทย์ไม่ได้บอกว่าเสมอแปลว่าอะไรกันแน่ จึงคิดเอาเองว่าในการเป่ายิงฉุบ 2 คน เสมอหมายถึงออกมือเหมือนกัน ถ้า 3 คนก็หมายถึงออกต่างกันหมดหรือเหมือนกันหมด สำหรับ 3 คนขึ้นไปการเสมอคือ มีคนออกค้อน กระดาษ กรรไกร อย่างละอย่างน้อย 1 ครั้ง (เพราะมีมือทุกแบบ ไม่รู้จะให้ใครแพ้ชนะ จึงเสมอ) หรือออกเหมือนกันหมด การเป่ายิงฉุบมากกว่า 2 คนอาจมีคนแพ้ชนะมากกว่า 1 คนในคราวเดียว

ตอนเห็นโจทย์ครั้งแรกคิดว่าไม่น่ายากมาก เพราะลองจินตนาการดูง่ายๆ ยิ่งคนเยอะยิ่งมีโอกาสที่ค้อน กระดาษ กรรไกร จะออกมาครบ ก็แปลว่ายิ่งคนเยอะยิ่งเสมอง่าย ความน่าจะเป็นจึงเข้าใกล้ 1 เมื่อคนเยอะมากๆ ดูเหมือนตรงตัวแต่พอลองแสดงแบบคณิตศาสตร์ดูก็พบว่าไม่ง่ายอย่างที่คิด (สำหรับพื้นฐานอย่างผม)

<strong>ใครอยากลองแก้ดูเอง อย่าเพิ่งอ่านต่อ โปรดหยุดอ่านแล้วไปนั่งคิด</strong>

ผมเชื่อว่าคงมีวิธีทางคณิตศาสตร์แบบสูงๆที่สามารถแก้โจทย์ข้อนี้ได้ง่ายกว่าวิธีที่จะกล่าวต่อไปนี้ กำหนดให้ \(n&gt;3\) วิธีที่ผมใช้เป็นวิธีตรงตัวเลยคือ พยายามหาความน่าจะเป็นที่มีค้อน กระดาษ กรรไกรออกอย่างน้อย 1 ครั้งด้วยการนับ เมื่อได้มาแล้วค่อยหา limit
<h2>วิธีแก้ที่เหมือนจะถูกแต่ผิด</h2>
ต่อไปนี้เป็นวิธีแก้แบบแรกที่ลองทำ แต่นึกได้ภายหลังว่า<strong>ผิด</strong> แต่ดูดีมาก ทั้งๆที่ผิดแต่นำมาเขียนไว้เตือนตัวเอง ไอเดียคือหาจำนวนครั้งที่ค้อน กระดาษ กรรไกรออกอย่างน้อย 1 ครั้ง แล้วหารด้วยจำนวนรูปแบบการออกมือทั้งหมดที่เป็นไปได้

เรารู้ว่าผลรวมของจำนวนค้อน กระดาษ กรรไกรที่ออกต้องเท่ากับ n เราสามารถเขียนแผนภาพที่จะทำให้นับได้ง่ายขึ้นได้ด้วย
<pre> _ _ | _ | _</pre>
ใช้ _ แทนคนหนึ่งคน (ในที่นี้ n=4) แล้วใช้ | 2 อันเป็นตัวขั้นซึ่งแบ่งคนออกเป็น 3 ส่วน ส่วนแรกคือคนที่ออกค้อน ส่วนที่สองกระดาษ และส่วนที่สามกรรไกร แผนภาพข้างบนจึงแทนกรณีที่คนออกค้อน 2 คน กระดาษ 1 คนและกรรไกร 1 คน ถ้าแบบนี้
<pre>_ || _ _ _</pre>
จึงหมายถึงคนออกค้อน 1 คน ไม่มีคนออกกระดาษ และคนออกกรรไกร 3 คน เป็นต้น ฉะนั้นจำนวนรูปแบบการออกมือทั้งหมดที่เป็นไปได้คือจำนวนรูปแบบทั้งหมดที่เราสามารถวาง | 2 อันในตำแหน่งต่างๆ ซึ่งก็คือ \( \left( \begin{array}{c}  n+2 \\ 2 \end{array} \right)\) (n+2 เลือก 2)

จำนวนครั้งที่ค้อน กระดาษ กรรไกรออกอย่างน้อย 1 ครั้ง สามารถใช้ภาพเดิมแทนได้โดยกำหนดให้ตำแหน่งซ้ายสุดที่ | สามารถวางได้เป็นตำแหน่งที่ 2 จากซ้าย และกำหนดให้ตำแหน่งขวาสุดที่ | สามารถวางได้เป็นตำแหน่งที่ 2 จากขวา ตัวอย่างเช่น (ให้เลข เป็นตำแหน่งอ้างอิง ไม่มีความหมายอื่น)
<pre>0 _ 1 _ 2 _ 3 _ 4</pre>
| ซ้ายสุดที่วางได้คือเลข 1 (ไม่ใช่ 0) และ | ตัวขวาสุดที่วางได้คือที่เลข 3 (ไม่ใช่ 4) การจำกัดแบบนี้จะทำให้ค้อนและกรรไกรออกอย่างน้อย 1 ครั้งเสมอ จาก n+2 เลือก 2 ตอนนี้เหลือ n เลือก 2 ส่วนการจะทำให้กระดาษออกอย่างน้อยหนึ่งครั้งด้วย คือไม่ให้ | 2 อันอยู่ตำแหน่งเดียวกัน ก็ให้ลดการนับลงไปอีก 1 สรุปว่าจำนวนครั้งที่ค้อน กระดาษ กรรไกรออกอย่างน้อย 1 ครั้ง คือ \(\left( \begin{array}{c}  n-1 \\ 2 \end{array} \right)\)

ฉะนั้นความน่าจะเป็นก็คือ

$$P_n = \frac{\left( \begin{array}{c}  n-1 \\ 2 \end{array} \right)}{\left( \begin{array}{c}  n+1 \\ 2 \end{array} \right)} + P(\text{ออกเหมือนกันหมด}) = \frac{(n-1)(n-2)}{(n+1)(n+2)} + P(\text{ออกเหมือนกันหมด})$$

แต่อย่างที่บอกไปแล้วว่า <strong>นี่คือคำตอบที่ผิด....</strong>
<h3>ทำไมวิธีนี้จึงผิด</h3>
เหตุที่ผิดเพราะจริงๆแล้ว \(\left( \begin{array}{c}  n+2 \\ 2 \end{array} \right)\) ไม่ใช่จำนวนรูปแบบการออกมือทั้งหมดที่เป็นไปได้ เช่นกัน \(\left( \begin{array}{c}  n-1 \\ 2 \end{array} \right)\) ก็ไม่ใช่จำนวนครั้งที่ค้อน กระดาษ กรรไกรออกอย่างน้อย 1 ครั้ง แต่คล้ายมาก

วิธีนับที่ทำมาจะถือว่ากรณีต่อไปนี้เป็นอันเดียวกันและไม่นับซ้ำ กำหนดให้ R แทนค้อน P แทนกระดาษและ S แทนกรรไกร
<pre>RPSS, RSPS, SRPS, PSRS ....</pre>
RPSS หมายถึง n=4 แล้วคนแรกออกค้อน คนที่สองออกกระดาษ 2 คนหลังออกกรรไกร เป็นต้น ทุกกรณีที่มีค้อน 1 ครั้ง กระดาษ 1 ครั้ง กรรไกร 2 ครั้ง จะถูกนับรวมกันเป็นแบบเดียว ซึ่งไม่ใช่อย่างที่เราต้องการ เพราะแต่ละรูปแบบควรถูกนับแยกเป็นแต่ละอัน การนับแบบนี้จะทำให้กรณีที่เกิดได้ยากมีน้ำหนักเท่ากับกรณีที่เกิดได้ง่าย เช่น กรณีที่ทุกคนออกกรรไกรหมด กับกรณีที่มีหลายๆอย่างผสมกันจะถือว่านับเป็น 1 เท่ากัน ซึ่งผิดเพราะคนออกกรรไกรหมดเกิดได้ยากกว่า

แล้ววิธีที่ถูกควรทำอย่างไร? เรื่องนี้เขียนใน<a title="โอกาสเสมอเมื่อ n คนเป่ายิงฉุบกันและ n เข้าสู่อนันต์ (2)" href="http://wittawat.com/blog/?p=1285">โพสต์ต่อไป</a>

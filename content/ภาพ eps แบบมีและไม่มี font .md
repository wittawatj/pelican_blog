Title: ภาพ eps แบบมีและไม่มี font  
Date: 2012-10-01 12:01:09
Tags: eps, latex, linux 
Slug: ภาพ eps แบบมีและไม่มี font  


ภาพ <a href="http://en.wikipedia.org/wiki/Encapsulated_PostScript">eps</a> เป็น format ภาพที่ถือว่าใช้กันอย่างกว้างขวางกับเอกสารที่สร้างด้วย Latex เพราะย่อขยายไม่ทำให้เสียคุณภาพของภาพ ที่เป็นแบบนี้เพราะ eps ไม่ได้เก็บเป็น pixels เหมือน jpg แต่เก็บเป็นรายการคำสั่งวาดภาพ (ลองเปิดด้วย text editor ดู) แปลว่าถ้าขยายภาพมันก็แค่ใช้คำสั่งที่อยู่ใน eps แต่วาดให้ใหญ่ขึ้นแค่นั้นเอง

ประเด็นที่อยากเขียนคือถ้าภาพมีตัวอักษรอยู่ด้วย สมมติถ้าใช้ Matlab หรือโปรแกรมอะไรก็ตามแล้วได้ภาพ eps ที่มีอักษรด้วยตรงจุดที่มีตัวอักษรบางทีจะเห็นเป็นหยักๆ ลองเปรียบเทียบภาพ 2 ภาพใน<a href="http://wittawat.com/blog/?attachment_id=1135" rel="attachment wp-att-1135">ไฟล์ต่อไปนี้</a>  จะเห็นว่าภาพแรกดูดี แต่ภาพสองเป็นหยักๆ เหตุผลคือภาพแรกมี font ใส่มาด้วย (ลอง drag คลุมรูปจะเลือก text ได้) ภาพสองไม่มี ตัวอักษรที่เห็นเกิดจากคำสั่งวาดให้เป็นตัวอักษรซึ่งไม่ดีเท่ากับใช้ font

แล้วทำไมได้ไฟล์แบบที่สองมา? คือโปรแกรมดีๆคงไม่ generate แบบที่สองมาให้ save ภาพใน Matlab ก็ออกมาเป็นแบบแรก แต่ที่ได้แบบที่สองเพราะ crop ขอบขาวๆรอบๆออกให้มันไม่กินที่แล้วผลที่ได้ออกมาเป็นแบบที่สอง การ crop ทำได้หลายแบบแต่จะพูดถึงแบบ command line

[bash]eps2eps -dEPSCrop  src.eps  dest.eps[/bash]

อันนี้จะได้แบบแรก คือได้ dest.eps แบบไม่มี font ภาพจะหยักๆ จะให้ดีต้องแบบนี้

[bash]
ps2pdf -dEPSCrop src.eps
pdfcrop src.pdf
pdftops -eps src-crop.pdf  src-crop.eps
[/bash]

แล้วจะได้ src-crop.eps ซึ่งเหมือน src.eps ต้นฉบับแต่ตัดขอบขาวๆรอบๆออก (ถ้ามี) และมี font ในนั้นด้วย คือภาพไม่หยัก อาจจะมีวิธีง่ายกว่านี้ก็ได้แต่ลองอันนี้แล้วใช้ได้

คำสั่ง pdftops รู้มาจาก <a href="http://www.iml.ece.mcgill.ca/~stephan/ooeps">หน้านี้ </a>

Title: Matlab: แสดงตัวเลขทศนิยมแบบไม่เอา 0 ตัวแรก 
Date: 2012-09-28 14:22:44
Tags: matlab 
Slug: Matlab: แสดงตัวเลขทศนิยมแบบไม่เอา 0 ตัวแรก 


ใน Matlab มี function sprintf() เอาไว้จัดรูปแบบตัวเลขหรือ string ต่างๆที่อยากจะ print เป็น string ที่อยากทำคืออยากทำให้ตัวเลขแบบ 0.xxx เป็นแค่ .xxx เท่านั้น ไม่อยากได้ 0 ตัวแรกก่อนหน้าจุด เพราะบางทีมันกินที่ แต่ถ้าก่อนหน้าจุดไม่ใช่ 0 ก็ยังเก็บไว้อยู่ หา format specifier เท่าไหร่ก็ไม่เจอ

วิธีแก้แบบไม่รู้จะทำไง

[matlab]num_str = sprintf('%1.3f', num );
num_str = regexprep(num_str, '(0)([.]\d+)', '$2');[/matlab]

เมื่อ num คือเลขที่อยากจะ format สรุปที่ทำคือ print เป็น string แบบปกตินั่นแหละ แล้วใช้ regex เช็คว่าเป็น 0 นำหน้าหรือเปล่า ถ้าใช่ก็ลบออก ถ้าไม่ใช่ก็ไม่ต้องทำอะไร จะได้ %1.3f เหมือนที่ใส่ไว้

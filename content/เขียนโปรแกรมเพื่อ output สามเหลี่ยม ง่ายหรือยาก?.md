Title: เขียนโปรแกรมเพื่อ output สามเหลี่ยม ง่ายหรือยาก? 
Date: 2013-01-09 10:58:40
Tags: c, programming 
Slug: เขียนโปรแกรมเพื่อ output สามเหลี่ยม ง่ายหรือยาก? 


การระบุความยากของโจทย์ฝึกเขียนโปรแกรมบางทีก็ไม่ง่ายอย่างที่ควรจะเป็น เพราะจะยากหรือง่ายขึ้นอยู่กับว่าใช้วิธีไหนในการแก้ปัญหา (คำว่า "วิธี" ในที่นี้พูดในบริบทของผู้เริ่มเรียนเขียนโปรแกรมใหม่ๆ จึงหมายถึงการนำ programming constructs ต่างๆเช่น loop, if มาใช้แก้ปัญหา) ปัญหาหนึ่งๆมีวิธีแก้ได้หลายวิธี ใช้วิธียากก็แก้ปัญหาลำบาก ใช้วิธีที่เหมาะกับโจทย์หรือที่ถนัดก็แก้ง่าย เพราะแบบนี้ปัญหาข้อเดียวกันหลายคนดูอาจจะตีความยากง่ายไม่เท่ากัน

บางคนบอกว่าวิธีง่ายๆที่จะระบูความยากคือ ให้นับว่าใช้ programming constructs ไปกี่อัน ซ้อนกันไหม เช่น กี่ loop, เช็คเงื่อนไขยุ่งยากมั้ย เป็นต้น วิธีนี้ก็ดี แต่มันก็ขึ้นอยู่กับวิธีคิดของคนอีก ปัญหาที่แก้ด้วย 2 loop ซ้อนอาจจะทำให้เหลือ loop เดียวได้ก็ได้

ลองมานั่งคิดเล่นๆดูว่าปัญหาหนึ่งๆเขียน code แก้ได้กี่วิธี เช่น จะ output สามเหลี่ยมขนาด n แบบนี้ (n=5)
<pre> *
 **
 ***
 ****
 *****</pre>
ปัญหานี้ตรงตัวและทุกคนคงเคยเจอตอนเรียนเขียนโปรแกรมแรกๆ ที่อยากรู้คือเขียน code แก้ได้กี่แบบ (โดยใช้ประเภทหรือจำนวน construct ที่ต่างกัน) ลองทำด้วยภาษา C ดู
<h2>Version 1: ตรงตัว</h2>
[code lang="c"]
    int n = 5;
    int i,j;
    for(i=1; i&lt;=n ;++i){
        for(j=1; j&lt;=i; ++j){
            printf(&quot;*&quot;);
        }
        printf(&quot;\n&quot;);
    }
[/code]

อันนี้คิดว่าตรงตัวที่สุดแล้ว และคงเป็นคำตอบแบบแรกๆที่ทุกคนเจอ สำหรับแก้ปัญหานี้
<h2>Version 2: ใช้ loop เดียว</h2>
[code lang="c"]
    int n=5;
    int i, next=1;
    for(i=1; i&lt;=n*(n+1)/2; ++i){
        printf(&quot;*&quot;);
        if( next*(next+1)/2 == i){
            next++;
            printf(&quot;\n&quot;);
        }
    }
[/code]

ดูเหมือนจะเป็นไปไม่ได้แต่ข้อนี้แก้ด้วย loop เดียวก็ได้ ไอเดียคือเราใช้ loop เดียว print * ทุกอัน แล้วเช็คว่าควรใส่บรรทัดใหม่เมื่อไหร่ เรารู้ว่าจำนวน * ทั้งหมดคือ 1+2+...+n ซึ่งก็คือ n(n+1)/2 ที่ต้องหาต่อคือควรใส่บรรทัดใหม่เมื่อไหร่ ถ้าสังเกตจะเห็นว่าบรรทัดใหม่เกิดหลัง * ตัวที่ 1, 3, 6, 10, ... (นับเริ่มจาก 1 ไล่ทีละบรรทัดจากบรรทัดบน) ซึ่งก็คือ <a href="http://en.wikipedia.org/wiki/Triangular_number">triangular number </a>ที่เหลือก็เช็คว่าดาวตัวที่ print ณ ตอนนี้เป็นตัวเดียวกับเลขใน triangular number หรือไม่ ถ้าใช่ก็ใส่บรรทัดใหม่
<h2>Version 3: ไม่ใช้ loop</h2>
ไม่ใช้ loop ทำได้เหรอ? จริงๆก็คือเปลี่ยนมาใช้ <a href="http://en.wikipedia.org/wiki/Recursion">recursion</a> นั่นเอง ใช้ไอเดียคล้ายๆ version 2

[code lang="c"]
void stars(int i, int total, int next){
    if(i&gt;total) return;
    printf(&quot;*&quot;);
    if( next*(next+1)/2 == i){
        next++;
        printf(&quot;\n&quot;);
    }
    stars(i+1, total, next);
}

// in main function
int n=5;
stars( 1, n*(n+1)/2, 1);
[/code]

จะเห็นว่าปัญหาที่ดูเหมือนจะตรงๆแบบนี้ยังสามารถทำได้หลายแบบ ปัญหาอื่นๆก็คงจะเป็นแบบนี้เช่นกัน การระบุความยากของปัญหาโดยดูจาก code ที่แก้ออกอาจจะไม่ใช่วิธีที่ดีเสมอไปก็ได้ เช่นคนออกโจทย์คิด version 1 ออก แต่คนทำมองไม่ออก และพยายามคิดแบบ version 2 ซึ่งซับซ้อนกว่า เป็นต้น
